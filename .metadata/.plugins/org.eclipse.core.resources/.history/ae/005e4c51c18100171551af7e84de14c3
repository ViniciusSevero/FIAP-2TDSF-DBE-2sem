package br.com.fiap.bean;

import javax.annotation.PostConstruct;
import javax.faces.bean.ManagedBean;

import org.primefaces.model.chart.AxisType;
import org.primefaces.model.chart.CategoryAxis;
import org.primefaces.model.chart.LineChartModel;
import org.primefaces.model.chart.LineChartSeries;
import org.primefaces.model.chart.PieChartModel;

import br.com.fiap.bo.AlunoBO;
import br.com.fiap.dao.AlunoDAO;
import br.com.fiap.dao.impl.AlunoDAOImpl;

@ManagedBean
public class GraficoBean {

	private PieChartModel pizza;
	private LineChartModel line;
	private AlunoBO bo;
	
	@PostConstruct
	private void init(){
		bo = new AlunoBO();
		pizza = new PieChartModel();
		pizza.set("Otimo", bo.contarPorRating(0, 4));
		pizza.set("Regular", bo.contarPorRating(5, 7));
		pizza.set("rUIM", bo.contarPorRating(8, 10));
		pizza.setShowDataLabels(true);
		pizza.setLegendPosition("e");
		
		line = new LineChartModel();
		line = new LineChartModel();
		line.setLegendPosition("w");
		line.setTitle("Alunos por mês");
		line.getAxes().put(AxisType.X, new CategoryAxis("Anos"));
		LineChartSeries serie1 = new LineChartSeries();
		serie1.setLabel("Salvador");
		serie1.set("2010", 200);
		serie1.set("2011", 500);
		serie1.set("2012", 100);
		serie1.set("2013", 40);
	}

	public PieChartModel getPizza() {
		return pizza;
	}

	public void setPizza(PieChartModel pizza) {
		this.pizza = pizza;
	}

	public LineChartModel getLine() {
		return line;
	}

	public void setLine(LineChartModel line) {
		this.line = line;
	}
	
	
	
	
}
